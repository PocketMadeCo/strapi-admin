"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5895],{16473:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32735)),o=n(a(60216)),i=n(a(19615)),l=a(5636),u=a(64410),s=a(54742),d=a(20763),c=a(74064),f=a(9808),p=a(19192),m=a(95602),g=a(90662),y=n(a(82372)),b=n(a(94009)),v=a(10938),h=n(a(378)),O=n(a(19337)),C=i.default.div.withConfig({displayName:"UpgradePlanModal__UpgradeWrapper",componentId:"sc-8aur7y-0"})(["position:absolute;z-index:3;inset:0;background:",";padding:0 ",";"],(function(e){var t=e.theme;return(0,v.setHexOpacity)(t.colors.neutral800,.2)}),(function(e){return e.theme.spaces[8]})),E=(0,i.default)(p.Flex).withConfig({displayName:"UpgradePlanModal__UpgradeContainer",componentId:"sc-8aur7y-1"})(["position:relative;max-width:","rem;height:","rem;margin:0 auto;overflow:hidden;margin-top:10%;padding-left:","rem;img:first-of-type{position:absolute;right:0;top:0;max-width:","rem;}img:not(:first-of-type){width:","rem;margin-left:12%;margin-right:","rem;z-index:0;}"],51.875,415/16,4,22.5,8.125,1.25),j=(0,i.default)(g.Stack).withConfig({displayName:"UpgradePlanModal__StackFlexStart",componentId:"sc-8aur7y-2"})(["align-items:flex-start;max-width:","rem;z-index:0;"],25),w=(0,i.default)(f.Box).withConfig({displayName:"UpgradePlanModal__CloseButtonContainer",componentId:"sc-8aur7y-3"})(["position:absolute;right:",";top:",";"],(function(e){return e.theme.spaces[4]}),(function(e){return e.theme.spaces[4]})),P=function(e){var t=e.onClose,a=e.isOpen;(0,v.useLockScroll)(a);var n=(0,l.useIntl)().formatMessage;return a?r.default.createElement(u.Portal,null,r.default.createElement(C,{onClick:t},r.default.createElement(s.FocusTrap,{onEscape:t},r.default.createElement(E,{onClick:function(e){return e.stopPropagation()},"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:!0},r.default.createElement("img",{src:h.default,alt:"air-balloon"}),r.default.createElement(w,null,r.default.createElement(d.IconButton,{onClick:t,"aria-label":"Close",icon:r.default.createElement(b.default,null)})),r.default.createElement(j,{size:6},r.default.createElement(m.Typography,{fontWeight:"bold",textColor:"primary600"},n({id:"app.components.UpgradePlanModal.text-ce",defaultMessage:"COMMUNITY EDITION"})),r.default.createElement(g.Stack,{size:2},r.default.createElement(m.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},n({id:"app.components.UpgradePlanModal.limit-reached",defaultMessage:"You have reached the limit"})),r.default.createElement(m.Typography,null,n({id:"app.components.UpgradePlanModal.text-power",defaultMessage:"Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition"}))),r.default.createElement(c.LinkButton,{href:"https://strapi.io/pricing-self-hosted",endIcon:r.default.createElement(y.default,null)},n({id:"app.components.UpgradePlanModal.button",defaultMessage:"Learn more"}))),r.default.createElement("img",{src:O.default,alt:"upgrade-arrow"}))))):null};P.propTypes={onClose:o.default.func.isRequired,isOpen:o.default.bool.isRequired};var k=P;t.default=k},27611:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56156)),o=n(a(32735)),i=a(6404),l=a(5636),u=n(a(60216)),s=a(5016);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e){var t=e.menu,a=(0,l.useIntl)().formatMessage,n=(0,s.getSectionsToDisplay)(t).map((function(e){return c(c({},e),{},{title:e.intlLabel,links:e.links.map((function(e){return c(c({},e),{},{title:e.intlLabel,name:e.id})}))})})),r=a({id:"app.components.LeftMenuLinkContainer.settings"});return o.default.createElement(i.SubNav,{ariaLabel:r},o.default.createElement(i.SubNavHeader,{label:r}),o.default.createElement(i.SubNavSections,null,n.map((function(e){return o.default.createElement(i.SubNavSection,{key:e.id,label:a(e.intlLabel)},e.links.map((function(e){return o.default.createElement(i.SubNavLink,{withBullet:e.hasNotification,to:e.to,key:e.id},a(e.intlLabel))})))}))))};f.propTypes={menu:u.default.array.isRequired};var p=f;t.default=p},64370:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=b,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),i=a(10938),l=a(60530),u=a(11856),s=a(5636),d=a(99357),c=a(17540),f=a(10120),p=n(a(21427)),m=a(5016),g=n(a(27611));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(){var e=(0,l.useParams)().settingId,t=(0,i.useStrapiApp)().settings,a=(0,s.useIntl)().formatMessage,n=(0,c.useSettingsMenu)(),r=n.isLoading,y=n.menu,b=(0,o.useMemo)((function(){return(0,f.makeUniqueRoutes)(m.routes.map((function(e){var t=e.to,a=e.Component,n=e.exact;return(0,f.createRoute)(a,t,n)})))}),[]),v=(0,m.createSectionsRoutes)(t);if(r)return o.default.createElement(i.LoadingIndicatorPage,null);if(!e)return o.default.createElement(l.Redirect,{to:"/settings/application-infos"});var h=a({id:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings"});return o.default.createElement(u.Layout,{sideNav:o.default.createElement(g.default,{menu:y})},o.default.createElement(d.Helmet,{title:h}),o.default.createElement(l.Switch,null,o.default.createElement(l.Route,{path:"/settings/application-infos",component:p.default,exact:!0}),b,v))}var v=(0,o.memo)(b);t.default=v},21427:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32735)),o=a(5636),i=a(10938),l=a(11856),u=a(16540),s=a(9808),d=a(78330),c=a(95602),f=a(90662),p=a(58434),m=n(a(82372)),g=function(){var e=(0,o.useIntl)().formatMessage;(0,i.useFocusWhenNavigate)();var t=(0,i.useAppInfos)(),a=t.shouldUpdateStrapi,n=t.latestStrapiReleaseTag,g=t.strapiVersion,y=t.communityEdition?"app.components.UpgradePlanModal.text-ce":"app.components.UpgradePlanModal.text-ee";return r.default.createElement(l.Layout,null,r.default.createElement(i.SettingsPageTitle,{name:"Application"}),r.default.createElement(u.Main,null,r.default.createElement(l.HeaderLayout,{title:e({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:e({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"})}),r.default.createElement(l.ContentLayout,null,r.default.createElement(s.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:7,paddingBottom:7,paddingRight:6,paddingLeft:6},r.default.createElement(f.Stack,{size:5},r.default.createElement(c.Typography,{variant:"delta",as:"h3"},e({id:"Settings.application.details",defaultMessage:"Details"})),r.default.createElement(d.Grid,{paddingTop:1},r.default.createElement(d.GridItem,{col:6,s:12},r.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),r.default.createElement(c.Typography,{as:"p"},"v",g),r.default.createElement(p.Link,{href:t.communityEdition?"https://discord.strapi.io":"https://support.strapi.io/support/home",endIcon:r.default.createElement(m.default,null)},e({id:"Settings.application.get-help",defaultMessage:"Get help"}))),r.default.createElement(d.GridItem,{col:6,s:12},r.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.edition-title",defaultMessage:"current plan"})),r.default.createElement(c.Typography,{as:"p"},e({id:y,defaultMessage:"".concat(t.communityEdition?"Community Edition":"Enterprise Edition")})))),r.default.createElement(d.Grid,{paddingTop:1},r.default.createElement(d.GridItem,{col:6,s:12},a&&r.default.createElement(p.Link,{href:"https://github.com/strapi/strapi/releases/tag/".concat(n),endIcon:r.default.createElement(m.default,null)},e({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"}))),r.default.createElement(d.GridItem,{col:6,s:12},r.default.createElement(p.Link,{href:"https://strapi.io/pricing-self-hosted",endIcon:r.default.createElement(m.default,null)},e({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),r.default.createElement(s.Box,{paddingTop:1},r.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.node-version",defaultMessage:"node version"})),r.default.createElement(c.Typography,{as:"p"},t.nodeVersion)))))))};t.default=g},91392:(e,t,a)=>{var n=a(99489);t.Z=void 0;var r=n(a(32735)),o=a(60530),i=function(){return r.default.createElement(o.Redirect,{to:"/404"})};t.Z=i},91362:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(19615)),o=a(19192),i=(0,r.default)(o.Flex).withConfig({displayName:"CollapseLabel",componentId:"sc-1ssinbk-0"})(["padding-right:",";overflow:hidden;flex:1;",""],(function(e){return e.theme.spaces[2]}),(function(e){return e.isCollapsable&&"cursor: pointer;"}));t.default=i},79317:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32735)),o=n(a(60216)),i=n(a(42258)),l=a(44526),u=a(5636),s=n(a(19615)),d=s.default.div.withConfig({displayName:"ConditionsButton__Wrapper",componentId:"sc-wd45es-0"})(["position:relative;",""],(function(e){var t=e.hasConditions,a=e.disabled,n=e.theme;return t&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: -3px;\n      left: -10px;\n      width: 6px;\n      height: 6px;\n      border-radius: ".concat(1.25,"rem;;\n      background: ").concat(a?n.colors.neutral100:n.colors.primary600,";\n    }\n  ")})),c=function(e){var t=e.onClick,a=e.className,n=e.hasConditions,o=e.variant,s=(0,u.useIntl)().formatMessage;return r.default.createElement(d,{hasConditions:n,className:a},r.default.createElement(l.Button,{variant:o,startIcon:r.default.createElement(i.default,null),onClick:t},s({id:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings"})))};c.defaultProps={className:null,hasConditions:!1,variant:"tertiary"},c.propTypes={onClick:o.default.func.isRequired,className:o.default.string,hasConditions:o.default.bool,variant:o.default.string};var f=(0,s.default)(c).withConfig({displayName:"ConditionsButton",componentId:"sc-wd45es-1"})([""]);t.default=f},85322:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56156)),o=n(a(79545)),i=n(a(61432)),l=n(a(32735)),u=n(a(60216)),s=a(9808),d=a(19192),c=a(95602),f=a(25716),p=n(a(23940)),m=a(5636),g=n(a(19615)),y=a(96014);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var v=window&&window.strapi&&window.strapi.isEE?a(55171).Z:a(10071).Z,h=(0,g.default)(d.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],y.rowHeight),O=function(e){var t=e.arrayOfOptionsGroupedByCategory,a=e.isFormDisabled,n=e.isGrey,u=e.label,g=e.name,y=e.onChange,O=e.value,C=(0,m.useIntl)().formatMessage,E=t.reduce((function(e,t){var a=(0,i.default)(t,2),n=a[0],r=a[1],l={label:(0,p.default)(n),children:r.map((function(e){return{label:e.displayName,value:e.id}}))};return[].concat((0,o.default)(e),[l])}),[]),j=Object.values(O).map((function(e){return Object.entries(e).filter((function(e){return(0,i.default)(e,2)[1]})).map((function(e){return(0,i.default)(e,1)[0]}))})).flat();return l.default.createElement(h,{as:"li",background:n?"neutral100":"neutral0"},l.default.createElement(d.Flex,{paddingLeft:6,style:{width:180}},l.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},C({id:"Settings.permissions.conditions.can",defaultMessage:"Can"}),"\xa0"),l.default.createElement(c.Typography,{variant:"sigma",title:u,textColor:"primary600",ellipsis:!0},C({id:"Settings.roles.form.permissions.".concat(u.toLowerCase()),defaultMessage:u})),l.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},"\xa0",C({id:"Settings.permissions.conditions.when",defaultMessage:"When"}))),l.default.createElement(s.Box,{style:{maxWidth:430,width:"100%"}},l.default.createElement(f.MultiSelectNested,{id:g,customizeContent:function(e){return"".concat(e.length," currently selected")},onChange:function(e){var a=(0,i.default)(t,1),n=(0,i.default)(a[0],2)[1].reduce((function(t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}((0,r.default)({},a.id,e.includes(a.id)),t)}),{});y(g,n)},value:j,options:E,disabled:a||v})))};O.propTypes={arrayOfOptionsGroupedByCategory:u.default.array.isRequired,isFormDisabled:u.default.bool.isRequired,isGrey:u.default.bool.isRequired,label:u.default.string.isRequired,name:u.default.string.isRequired,value:u.default.object.isRequired,onChange:u.default.func.isRequired};var C=O;t.default=C},10071:(e,t)=>{t.Z=void 0;t.Z=true},4602:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(56156)),i=n(a(61432)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),u=n(a(60216)),s=a(9808),d=a(44526),c=a(27635),f=a(90662),p=a(4122),m=a(71657),g=a(95602),y=n(a(38317)),b=n(a(33795)),v=n(a(81346)),h=n(a(23940)),O=a(5636),C=a(17540),E=n(a(85322)),j=n(a(97021));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){var t=e.actions,a=e.headerBreadCrumbs,n=e.isFormDisabled,r=e.onClosed,o=e.onToggle,u=(0,O.useIntl)().formatMessage,w=(0,C.usePermissionsDataManager)(),P=w.availableConditions,M=w.modifiedData,_=w.onChangeConditions,D=(0,l.useMemo)((function(){return Object.entries((0,v.default)(P,"category"))}),[P]),x=t.filter((function(e){var t=e.isDisplayed,a=e.hasSomeActionsSelected,n=e.hasAllActionsSelected;return t&&(a||n)})),T=(0,l.useMemo)((function(){return(0,j.default)(x,M,D)}),[x,M,D]),S=(0,l.useState)(T),R=(0,i.default)(S,2),A=R[0],I=R[1],F=function(e,t){I((0,y.default)((function(a){a[e]||(a[e]={}),a[e].default||(a[e].default={}),a[e].default=t})))};return l.default.createElement(p.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:r},l.default.createElement(p.ModalHeader,null,l.default.createElement(m.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:a.join(", ")},a.map((function(e){return l.default.createElement(m.Crumb,{key:e},(0,h.default)(u({id:e,defaultMessage:e})))})))),l.default.createElement(s.Box,{padding:8},l.default.createElement(f.Stack,{size:6},l.default.createElement(g.Typography,{variant:"beta",as:"h2"},u({id:"Settings.permissions.conditions.define-conditions",defaultMessage:"Define conditions"})),l.default.createElement(s.Box,null,l.default.createElement(c.Divider,null)),l.default.createElement(s.Box,null,0===x.length&&l.default.createElement(g.Typography,null,u({id:"Settings.permissions.conditions.no-actions",defaultMessage:"You first need to select actions (create, read, update, ...) before defining conditions on them."})),l.default.createElement("ul",null,x.map((function(e,t){var a=e.actionId,r=e.label,o=e.pathToConditionsObject.join("..");return l.default.createElement(E.default,{key:a,arrayOfOptionsGroupedByCategory:D,label:r,isFormDisabled:n,isGrey:t%2===0,name:o,onChange:F,value:(0,b.default)(A,o,{})})})))))),l.default.createElement(p.ModalFooter,{startActions:l.default.createElement(d.Button,{variant:"tertiary",onClick:o},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:l.default.createElement(d.Button,{onClick:function(){var e=Object.entries(A).reduce((function(e,t){var a=(0,i.default)(t,2),n=a[0],r=a[1],o=Object.values(r).reduce((function(e,t){return k(k({},e),t)}),{});return e[n]=o,e}),{});_(e),o()}},u({id:"Settings.permissions.conditions.apply",defaultMessage:"Apply"}))}))};M.propTypes={actions:u.default.arrayOf(u.default.shape({actionId:u.default.string.isRequired,checkboxName:u.default.string,hasSomeActionsSelected:u.default.bool.isRequired,hasAllActionsSelected:u.default.bool,isDisplayed:u.default.bool.isRequired,label:u.default.string})).isRequired,headerBreadCrumbs:u.default.arrayOf(u.default.string).isRequired,isFormDisabled:u.default.bool.isRequired,onClosed:u.default.func.isRequired,onToggle:u.default.func.isRequired};var _=M;t.default=_},97021:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createConditionsForm=t.createCategoryForm=void 0;var r=n(a(79545)),o=n(a(61432)),i=a(92891),l=function(e,t){return e.reduce((function(e,a){return e[a.id]=(0,i.get)(t,a.id,!1),e}),{})};t.createConditionsForm=l;var u=function(e,t){return e.reduce((function(e,a){var n=(0,o.default)(a,2),r=n[0],i=n[1],u=l(i,t);return e[r]=u,e}),{})};t.createCategoryForm=u;var s=function(e,t,a){return e.reduce((function(e,n){var o=(0,i.get)(t,[].concat((0,r.default)(n.pathToConditionsObject),["conditions"]),{}),l=u(a,o);return e[n.pathToConditionsObject.join("..")]=l,e}),{})};t.default=s},47114:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(61432)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=n(a(67793)),s=n(a(31476)),d=a(35980),c=a(9808),f=a(19192),p=n(a(33795)),m=n(a(9086)),g=a(5636),y=n(a(19615)),b=a(17540),v=n(a(79317)),h=n(a(4602)),O=n(a(61382)),C=a(96014),E=n(a(91489)),j=a(40073),w=n(a(83645)),P=n(a(12600));function k(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}var M=window&&window.strapi&&window.strapi.isEE?a(74862).Z:a(20617).Z,_=function e(t,a){return"\n  ".concat(D," {\n    background-color: ").concat(t.colors.primary100,";\n    color: ").concat(t.colors.primary600,";\n    border-radius: ").concat(a?"2px 2px 0 0":"2px",";\n  }\n  ").concat(S," {\n    display: flex;\n  }\n  ").concat(v.default," {\n    display: block;\n  }\n  &:hover {\n   ").concat((0,P.default)(t),"\n  }\n\n  &:focus-within {\n    ").concat((function(t){var a=t.theme,n=t.isActive;return e(a,n)}),"\n  }\n  \n")},D=y.default.div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],C.rowHeight,(function(e){var t=e.isGrey,a=e.theme;return t?a.colors.neutral100:a.colors.neutral0})),x=y.default.div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],v.default,(function(e){var t=e.isActive,a=e.theme;return t&&_(a,t)}),(function(e){var t=e.theme,a=e.isActive;return _(t,a)})),T=(0,y.default)(f.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],C.cellWidth),S=(0,y.default)(c.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],(function(e){return e.theme.colors.primary600})),R=y.default.span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],(function(e){return e.theme.colors.primary600})),A=(0,y.default)(c.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]),I=function(e){var t=e.availableActions,a=e.isActive,n=e.isGrey,r=e.isFormDisabled,l=e.label,c=e.onClickToggle,y=e.pathToData,C=(0,i.useState)(!1),P=(0,o.default)(C,2),k=P[0],_=P[1],I=(0,g.useIntl)().formatMessage,F=(0,b.usePermissionsDataManager)(),q=F.modifiedData,N=F.onChangeParentCheckbox,L=F.onChangeSimpleCheckbox,W=function(){_((function(e){return!e}))},B=(0,p.default)(q,y.split(".."),{}),Z=(0,i.useMemo)((function(){return Object.keys(B).reduce((function(e,t){return e[t]=(0,m.default)(B[t],"conditions"),e}),{})}),[B]),G=(0,j.getCheckboxState)(Z),H=G.hasAllActionsSelected,U=G.hasSomeActionsSelected,z=(0,i.useMemo)((function(){return(0,w.default)(t,q,y)}),[t,q,y]),V=z.some((function(e){return e.hasConditions}));return i.default.createElement(x,{isActive:a},i.default.createElement(D,{isGrey:n},i.default.createElement(E.default,{isCollapsable:!0,isFormDisabled:r,label:l,checkboxName:y,onChange:N,onClick:c,someChecked:U,value:H,isActive:a},i.default.createElement(S,{paddingLeft:2},a?i.default.createElement(s.default,null):i.default.createElement(u.default,null))),i.default.createElement(f.Flex,{style:{flex:1}},z.map((function(e){var t=e.actionId,a=e.hasConditions,n=e.hasAllActionsSelected,o=e.hasSomeActionsSelected,u=e.isDisplayed,s=e.isParentCheckbox,c=e.checkboxName,f=e.label;return u?s?i.default.createElement(T,{key:t,justifyContent:"center",alignItems:"center"},a&&i.default.createElement(R,null),i.default.createElement(d.BaseCheckbox,{disabled:r||M,name:c,"aria-label":I({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(f," ").concat(l)}),onValueChange:function(e){N({target:{name:c,value:e}})},indeterminate:o,value:n})):i.default.createElement(T,{key:t,justifyContent:"center",alignItems:"center"},a&&i.default.createElement(R,null),i.default.createElement(d.BaseCheckbox,{disabled:r||M,indeterminate:a,name:c,onValueChange:function(e){L({target:{name:c,value:e}})},value:n})):i.default.createElement(O.default,{key:t})}))),k&&i.default.createElement(h.default,{headerBreadCrumbs:[l,"app.components.LeftMenuLinkContainer.settings"],actions:z,isFormDisabled:r,onClosed:function(){_(!1)},onToggle:W})),i.default.createElement(A,null,i.default.createElement(v.default,{onClick:W,hasConditions:V})))};I.propTypes={availableActions:l.default.array.isRequired,isActive:l.default.bool.isRequired,isGrey:l.default.bool.isRequired,isFormDisabled:l.default.bool.isRequired,label:l.default.string.isRequired,onClickToggle:l.default.func.isRequired,pathToData:l.default.string.isRequired};var F=I;t.default=F},20617:(e,t)=>{t.Z=void 0;t.Z=true},83645:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(79545)),o=a(92891),i=a(40073),l=function(e,t,a){return e.map((function(e){var n=e.actionId,l=e.isDisplayed,u=e.applyToProperties,s=e.label;if(!l)return{actionId:n,hasSomeActionsSelected:!1,isDisplayed:l};var d=[].concat((0,r.default)(a.split("..")),[n]),c=(0,o.isEmpty)(u)?[].concat((0,r.default)(d),["properties","enabled"]):d,f=c.join(".."),p=(0,o.get)(t,[].concat((0,r.default)(d),["conditions"]),null),m=(0,i.createArrayOfValues)(p).some((function(e){return e}));if((0,o.isEmpty)(u)){var g=(0,o.get)(t,c,!1);return{actionId:n,checkboxName:f,hasAllActionsSelected:g,hasConditions:m,hasSomeActionsSelected:g,isDisplayed:l,isParentCheckbox:!1,label:s,pathToConditionsObject:d}}var y=(0,o.get)(t,c,null),b=(0,i.getCheckboxState)(y);return{actionId:n,checkboxName:f,hasAllActionsSelected:b.hasAllActionsSelected,hasConditions:m,hasSomeActionsSelected:b.hasSomeActionsSelected,isDisplayed:l,isParentCheckbox:!0,label:s,pathToConditionsObject:d}}))};t.default=l},15548:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(79545)),i=n(a(61432)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),u=n(a(60216)),s=a(5636),d=n(a(19615)),c=a(35980),f=a(19192),p=n(a(33795)),m=a(17540),g=n(a(61382)),y=a(96014),b=n(a(43379)),v=n(a(91489)),h=a(40073),O=a(6880),C=n(a(67627)),E=n(a(44974)),j=n(a(38179));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var P=window&&window.strapi&&window.strapi.isEE?a(6817).Z:a(34887).Z,k=(0,d.default)(f.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],y.cellWidth),M=(0,d.default)(f.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],y.rowHeight,(function(e){var t=e.isCollapsable,a=e.theme;return t&&"\n      ".concat(C.default," {\n        display: block;\n        color: ").concat(a.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,O.activeStyle)(a),"\n      }\n  ")}),(function(e){var t=e.isActive,a=e.theme;return t&&(0,O.activeStyle)(a)})),_=function(e){var t=e.childrenForm,a=e.label,n=e.isFormDisabled,r=e.name,u=e.required,d=e.pathToData,y=e.propertyActions,O=e.propertyName,w=e.isOdd,_=(0,s.useIntl)().formatMessage,D=(0,l.useState)(null),x=(0,i.default)(D,2),T=x[0],S=x[1],R=(0,m.usePermissionsDataManager)(),A=R.modifiedData,I=R.onChangeCollectionTypeLeftActionRowCheckbox,F=R.onChangeParentCheckbox,q=R.onChangeSimpleCheckbox,N=T===r,L=(0,l.useMemo)((function(){return Array.isArray(t)?t:[]}),[t]),W=L.length>0,B=(0,l.useCallback)((function(){W&&S((function(e){return e===r?null:r}))}),[W,r]),Z=(0,l.useMemo)((function(){return(0,j.default)(y,A,d,O,r)}),[y,A,d,O,r]),G=Z.hasAllActionsSelected,H=Z.hasSomeActionsSelected;return l.default.createElement(l.default.Fragment,null,l.default.createElement(M,{alignItems:"center",isCollapsable:W,isActive:N,background:w?"neutral100":"neutral0"},l.default.createElement(f.Flex,null,l.default.createElement(v.default,{onChange:function(e){var t=e.target.value;I(d,O,r,t)},onClick:B,isCollapsable:W,isFormDisabled:n,label:a,someChecked:H,value:G,isActive:N},u&&l.default.createElement(b.default,null),l.default.createElement(C.default,{$isActive:N})),l.default.createElement(f.Flex,null,y.map((function(e){var t=e.label,a=e.isActionRelatedToCurrentProperty,i=e.actionId;if(!a)return l.default.createElement(g.default,{key:t});var u=[].concat((0,o.default)(d.split("..")),[i,"properties",O,r]);if(!W){var s=(0,p.default)(A,u,!1);return l.default.createElement(k,{key:i,justifyContent:"center",alignItems:"center"},l.default.createElement(c.BaseCheckbox,{disabled:n||P,name:u.join(".."),"aria-label":_({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(r," ").concat(t)}),onValueChange:function(e){q({target:{name:u.join(".."),value:e}})},value:s}))}var f=(0,p.default)(A,u,{}),m=(0,h.getCheckboxState)(f),y=m.hasAllActionsSelected,b=m.hasSomeActionsSelected;return l.default.createElement(k,{key:t,justifyContent:"center",alignItems:"center"},l.default.createElement(c.BaseCheckbox,{disabled:n||P,name:u.join(".."),onValueChange:function(e){F({target:{name:u.join(".."),value:e}})},"aria-label":_({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(r," ").concat(t)}),value:y,indeterminate:b}))}))))),N&&l.default.createElement(E.default,{childrenForm:L,isFormDisabled:n,parentName:r,pathToDataFromActionRow:d,propertyName:O,propertyActions:y,recursiveLevel:0}))};_.defaultProps={childrenForm:[],required:!1},_.propTypes={childrenForm:u.default.array,label:u.default.string.isRequired,isFormDisabled:u.default.bool.isRequired,name:u.default.string.isRequired,pathToData:u.default.string.isRequired,propertyActions:u.default.array.isRequired,propertyName:u.default.string.isRequired,required:u.default.bool,isOdd:u.default.bool.isRequired};var D=(0,l.memo)(_);t.default=D},34887:(e,t)=>{t.Z=void 0;t.Z=true},38179:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.getActionIdsFromPropertyActions=t.default=void 0;var r=n(a(79545)),o=a(92891),i=a(40073),l=function(e){return e.reduce((function(e,t){return t.isActionRelatedToCurrentProperty&&e.push(t.actionId),e}),[])};t.getActionIdsFromPropertyActions=l;var u=function(e,t,a,n,u){var s=l(e).reduce((function(e,i){var l=[].concat((0,r.default)(a.split("..")),[i,"properties",n,u]),s=(0,o.get)(t,l,!1);return e[i]=s,e}),{});return(0,i.getCheckboxState)(s)};t.default=u},67627:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(19615)),o=n(a(60672)),i=(0,r.default)(o.default).withConfig({displayName:"CarretIcon",componentId:"sc-1sz33o8-0"})(["display:none;width:","rem;transform:rotate(","deg);margin-left:",";"],.625,(function(e){return e.$isActive?"180":"0"}),(function(e){return e.theme.spaces[2]}));t.default=i},23673:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32735)),o=n(a(60216)),i=a(5636),l=n(a(19615)),u=a(19192),s=a(95602),d=a(96014),c=(0,l.default)(u.Flex).withConfig({displayName:"Header__HeaderLabel",componentId:"sc-1x5jpk6-0"})(["width:",";flex-shrink:0;"],d.cellWidth),f=(0,l.default)(u.Flex).withConfig({displayName:"Header__PropertyLabelWrapper",componentId:"sc-1x5jpk6-1"})(["width:",";height:",";flex-shrink:0;"],d.firstRowWidth,d.rowHeight),p=function(e){var t=e.headers,a=e.label,n=(0,i.useIntl)().formatMessage,o=n({id:"Settings.roles.form.permission.property-label",defaultMessage:"{label} permissions"},{label:a});return r.default.createElement(u.Flex,null,r.default.createElement(f,{alignItems:"center",paddingLeft:6},r.default.createElement(s.Typography,{variant:"sigma",textColor:"neutral500"},o)),t.map((function(e){return e.isActionRelatedToCurrentProperty?r.default.createElement(c,{justifyContent:"center",key:e.label},r.default.createElement(s.Typography,{variant:"sigma",textColor:"neutral500"},n({id:"Settings.roles.form.permissions.".concat(e.label.toLowerCase()),defaultMessage:e.label}))):r.default.createElement(c,{key:e.label})})))};p.propTypes={headers:o.default.arrayOf(o.default.shape({label:o.default.string.isRequired,isActionRelatedToCurrentProperty:o.default.bool.isRequired})).isRequired,label:o.default.string.isRequired};var m=p;t.default=m},44974:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(79545)),i=n(a(51265)),l=n(a(61432)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),s=n(a(60216)),d=n(a(33795)),c=n(a(23940)),f=a(5636),p=n(a(19615)),m=a(35980),g=a(9808),y=a(19192),b=a(95602),v=a(17540),h=n(a(91362)),O=n(a(50780)),C=n(a(61382)),E=a(96014),j=n(a(43379)),w=a(40073),P=a(6880),k=n(a(67627));function M(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}var _=window&&window.strapi&&window.strapi.isEE?a(49740).Z:a(86731).Z,D=(0,p.default)(y.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],E.cellWidth),x=(0,p.default)(y.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],E.rowHeight),T=(0,p.default)(g.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16),S=(0,p.default)(g.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],(function(e){var t=e.isVisible,a=e.theme;return t?"4px solid ".concat(a.colors.primary200):"4px solid transparent"})),R=(0,p.default)(y.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],(function(e){return e.theme.spaces[4]}),(function(e){return 145-36*e.level}),(function(e){var t=e.isCollapsable,a=e.theme;return t&&"\n      ".concat(k.default," {\n        display: block;\n        color: ").concat(a.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,P.activeStyle)(a),"\n      }\n  ")}),(function(e){var t=e.isActive,a=e.theme;return t&&(0,P.activeStyle)(a)})),A=p.default.div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],(function(e){return e.theme.spaces[2]}),(function(e){return e.theme.spaces[2]}),.25,(function(e){return e.theme.colors.primary200})),I=function e(t){var a=t.childrenForm,n=t.isFormDisabled,r=t.recursiveLevel,s=t.pathToDataFromActionRow,p=t.propertyActions,E=t.parentName,P=t.propertyName,M=(0,f.useIntl)().formatMessage,I=(0,v.usePermissionsDataManager)(),F=I.modifiedData,q=I.onChangeParentCheckbox,N=I.onChangeSimpleCheckbox,L=(0,u.useState)(null),W=(0,l.default)(L,2),B=W[0],Z=W[1],G=function(e){Z((function(t){return t===e?null:e}))},H=(0,u.useMemo)((function(){return B?a.find((function(e){return e.value===B})):null}),[B,a]);return u.default.createElement(T,null,u.default.createElement(A,null),a.map((function(t,l){var f=t.label,v=t.value,T=t.required,A=t.children,I=l+1<a.length,L=Array.isArray(A),W=B===v;return u.default.createElement(S,{key:v,isVisible:I},u.default.createElement(x,null,u.default.createElement(O.default,{color:"primary200"}),u.default.createElement(y.Flex,{style:{flex:1}},u.default.createElement(R,{level:r,isActive:W,isCollapsable:L},u.default.createElement(h.default,(0,i.default)({alignItems:"center",isCollapsable:L},L&&{onClick:function(){return G(v)},"aria-expanded":W,onKeyDown:function(e){var t=e.key;return("Enter"===t||" "===t)&&G(v)},tabIndex:0,role:"button"},{title:f}),u.default.createElement(b.Typography,{ellipsis:!0},(0,c.default)(f)),T&&u.default.createElement(j.default,null),u.default.createElement(k.default,{$isActive:W}))),u.default.createElement(y.Flex,{style:{flex:1}},p.map((function(e){var t=e.actionId,a=e.label;if(!e.isActionRelatedToCurrentProperty)return u.default.createElement(C.default,{key:t});var r=[].concat((0,o.default)(s.split("..")),[t,"properties",P],(0,o.default)(E.split("..")),[v]),i=(0,d.default)(F,r,!1);if(!A)return u.default.createElement(D,{key:a,justifyContent:"center",alignItems:"center"},u.default.createElement(m.BaseCheckbox,{disabled:n||_,name:r.join(".."),"aria-label":M({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(E," ").concat(f," ").concat(a)}),onValueChange:function(e){N({target:{name:r.join(".."),value:e}})},value:i}));var l=(0,w.getCheckboxState)(i),c=l.hasAllActionsSelected,p=l.hasSomeActionsSelected;return u.default.createElement(D,{key:a,justifyContent:"center",alignItems:"center"},u.default.createElement(m.BaseCheckbox,{key:a,disabled:n||_,name:r.join(".."),"aria-label":M({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(E," ").concat(f," ").concat(a)}),onValueChange:function(e){q({target:{name:r.join(".."),value:e}})},value:c,indeterminate:p}))}))))),H&&W&&u.default.createElement(g.Box,{paddingBottom:2},u.default.createElement(e,{isFormDisabled:n,parentName:"".concat(E,"..").concat(v),pathToDataFromActionRow:s,propertyActions:p,propertyName:P,recursiveLevel:r+1,childrenForm:H.children})))})))};I.propTypes={childrenForm:s.default.array.isRequired,isFormDisabled:s.default.bool.isRequired,parentName:s.default.string.isRequired,pathToDataFromActionRow:s.default.string.isRequired,propertyActions:s.default.array.isRequired,propertyName:s.default.string.isRequired,recursiveLevel:s.default.number.isRequired};var F=(0,u.memo)(I);t.default=F},86731:(e,t)=>{t.Z=void 0;t.Z=true},72015:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),i=n(a(60216)),l=n(a(19615)),u=a(9808),s=n(a(24883)),d=n(a(23673)),c=n(a(15548));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var p=l.default.div.withConfig({displayName:"CollapsePropertyMatrix__Wrapper",componentId:"sc-19phz29-0"})(["display:inline-flex;flex-direction:column;min-width:0;"]),m=function(e){var t=e.availableActions,a=e.childrenForm,n=e.isFormDisabled,r=e.label,i=e.pathToData,l=e.propertyName,f=(0,o.useMemo)((function(){return(0,s.default)(t,l)}),[t,l]);return o.default.createElement(p,null,o.default.createElement(d.default,{label:r,headers:f}),o.default.createElement(u.Box,null,a.map((function(e,t){var a=e.children,r=e.label,u=e.value,s=e.required;return o.default.createElement(c.default,{childrenForm:a,key:u,label:r,isFormDisabled:n,name:u,required:s,propertyActions:f,pathToData:i,propertyName:l,isOdd:t%2===0})}))))};m.propTypes={childrenForm:i.default.array.isRequired,availableActions:i.default.array.isRequired,isFormDisabled:i.default.bool.isRequired,label:i.default.string.isRequired,pathToData:i.default.string.isRequired,propertyName:i.default.string.isRequired};var g=m;t.default=g},24883:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){return e.map((function(e){var a=Array.isArray(e.applyToProperties)&&-1!==e.applyToProperties.indexOf(t)&&e.isDisplayed;return{label:e.label,actionId:e.actionId,isActionRelatedToCurrentProperty:a}}))};t.default=a},69905:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(60216)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(19615)),u=n(a(47114)),s=n(a(72015)),d=a(6880);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var f=l.default.div.withConfig({displayName:"ContentTypeCollapse__Wrapper",componentId:"sc-1ldk4pa-0"})(["flex-direction:column;display:inline-flex;min-width:100%;",""],(function(e){var t=e.theme;return e.isActive&&"border: 1px solid ".concat(t.colors.primary600,";")})),p=function(e){var t=e.allActions,a=e.contentTypeName,n=e.label,r=e.index,o=e.isActive,l=e.isFormDisabled,c=e.onClickToggleCollapse,p=e.pathToData,m=e.properties,g=(0,i.useCallback)((function(){c(a)}),[a,c]),y=(0,i.useMemo)((function(){return(0,d.getAvailableActions)(t,a)}),[t,a]);return i.default.createElement(f,{isActive:o},i.default.createElement(u.default,{availableActions:y,isActive:o,isGrey:r%2===0,isFormDisabled:l,label:n,onClickToggle:g,pathToData:p}),o&&m.map((function(e){var t=e.label,a=e.value,n=e.children;return i.default.createElement(s.default,{availableActions:y,childrenForm:n,isFormDisabled:l,label:t,pathToData:p,propertyName:a,key:a})})))};p.propTypes={allActions:o.default.array.isRequired,contentTypeName:o.default.string.isRequired,index:o.default.number.isRequired,isActive:o.default.bool.isRequired,isFormDisabled:o.default.bool.isRequired,label:o.default.string.isRequired,onClickToggleCollapse:o.default.func.isRequired,pathToData:o.default.string.isRequired,properties:o.default.array.isRequired};var m=p;t.default=m},12600:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(95602),o=n(a(67627)),i=function(e){return"\n  ".concat(r.Typography," {\n    color: ").concat(e.colors.primary600,";\n    font-weight: ").concat(e.fontWeights.bold,"\n  }\n  ").concat(o.default," {\n    display: block;\n    path {\n      fill: ").concat(e.colors.primary600,"\n    };\n  }\n")};t.default=i},94534:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56156));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t){return e.map((function(e){var a=Array.isArray(e.subjects)&&-1!==e.subjects.indexOf(t);return i(i({},e),{},{isDisplayed:a})}))};t.default=l},6880:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"activeStyle",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getAvailableActions",{enumerable:!0,get:function(){return o.default}});var r=n(a(12600)),o=n(a(94534))},81747:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(61432)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=n(a(69905));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}var d=function(e){var t=e.actions,a=e.isFormDisabled,n=e.pathToData,r=e.subjects,l=(0,i.useState)(null),s=(0,o.default)(l,2),d=s[0],c=s[1],f=function(e){c(d===e?null:e)};return r.map((function(e,r){var o=e.uid,l=e.label,s=e.properties;return i.default.createElement(u.default,{allActions:t,key:o,contentTypeName:o,label:l,isActive:d===o,isFormDisabled:a,index:r,onClickToggleCollapse:f,pathToData:"".concat(n,"..").concat(o),properties:s})}))};d.defaultProps={actions:[],subjects:[]},d.propTypes={actions:l.default.array.isRequired,isFormDisabled:l.default.bool.isRequired,pathToData:l.default.string.isRequired,subjects:l.default.arrayOf(l.default.shape({uid:l.default.string.isRequired,label:l.default.string.isRequired,properties:l.default.array.isRequired}))};var c=(0,i.memo)(d);t.default=c},15920:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(79545)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=a(9808),s=n(a(19615)),d=n(a(98978)),c=n(a(81747)),f=n(a(59125));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=(0,s.default)(u.Box).withConfig({displayName:"ContentTypes__StyledBox",componentId:"sc-1hdkmsf-0"})(["overflow-x:auto;"]),g=function(e){var t=e.isFormDisabled,a=e.kind,n=e.layout,r=n.actions,l=n.subjects,u=(0,d.default)((0,o.default)(l),"label");return i.default.createElement(m,{background:"neutral0"},i.default.createElement(f.default,{actions:r,kind:a,isFormDisabled:t}),i.default.createElement(c.default,{actions:r,isFormDisabled:t,pathToData:a,subjects:u}))};g.propTypes={isFormDisabled:l.default.bool.isRequired,kind:l.default.string.isRequired,layout:l.default.shape({actions:l.default.array,subjects:l.default.arrayOf(l.default.shape({uid:l.default.string.isRequired,label:l.default.string.isRequired,properties:l.default.array.isRequired}))}).isRequired};var y=(0,i.memo)(g);t.default=y},50780:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(51265)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=n(a(19615)),s=a(9808);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var c=(0,u.default)(s.Box).withConfig({displayName:"Curve__StyledBox",componentId:"sc-18jpkp6-0"})(["transform:translate(-4px,-12px);&:before{content:'';width:","rem;height:","rem;background:",";display:block;}"],.25,.75,(function(e){return e.theme.colors.primary200})),f=u.default.svg.withConfig({displayName:"Curve__Svg",componentId:"sc-18jpkp6-1"})(["position:relative;flex-shrink:0;transform:translate(-0.5px,-1px);*{fill:",";}"],(function(e){var t=e.theme,a=e.color;return t.colors[a]})),p=function(e){return i.default.createElement(c,null,i.default.createElement(f,(0,o.default)({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})))};p.defaultProps={fill:"primary200"},p.propTypes={fill:l.default.string};var m=(0,i.memo)(p);t.default=m},59125:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),i=n(a(60216)),l=a(35980),u=a(9808),s=a(90662),d=a(95602),c=n(a(19615)),f=n(a(33795)),p=a(5636),m=a(17540),g=a(96014),y=a(71309);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}var v=window&&window.strapi&&window.strapi.isEE?a(79930).Z:a(13920).Z,h=(0,c.default)(s.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],g.cellWidth),O=function(e){var t=e.actions,a=e.isFormDisabled,n=e.kind,r=(0,p.useIntl)().formatMessage,i=(0,m.usePermissionsDataManager)(),c=i.modifiedData,b=i.onChangeCollectionTypeGlobalActionCheckbox,O=(0,o.useMemo)((function(){return(0,y.findDisplayedActions)(t)}),[t]),C=(0,o.useMemo)((function(){return(0,y.getCheckboxesState)(O,c[n])}),[c,O,n]);return o.default.createElement(u.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:g.firstRowWidth}},o.default.createElement(s.Stack,{horizontal:!0,size:0},O.map((function(e){var t=e.label,i=e.actionId;return o.default.createElement(h,{key:i,size:3},o.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral500"},r({id:"Settings.roles.form.permissions.".concat(t.toLowerCase()),defaultMessage:t})),o.default.createElement(l.BaseCheckbox,{disabled:a||v,onValueChange:function(e){b(n,i,e)},name:i,"aria-label":r({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:r({id:"Settings.roles.form.permissions.".concat(t.toLowerCase()),defaultMessage:t})}),value:(0,f.default)(C,[i,"hasAllActionsSelected"],!1),indeterminate:(0,f.default)(C,[i,"hasSomeActionsSelected"],!1)}))}))))};O.defaultProps={actions:[]},O.propTypes={actions:i.default.arrayOf(i.default.shape({label:i.default.string.isRequired,actionId:i.default.string.isRequired,subjects:i.default.array.isRequired})),isFormDisabled:i.default.bool.isRequired,kind:i.default.string.isRequired};var C=(0,o.memo)(O);t.default=C},13920:(e,t)=>{t.Z=void 0;t.Z=true},22891:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e.filter((function(e){var t=e.subjects;return t&&t.length}))};t.default=a},38052:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.getRelatedActionIdData=t.getActionsIds=t.default=void 0;var r=n(a(56156)),o=a(92891),i=a(40073);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function(e){return e.map((function(e){return e.actionId}))};t.getActionsIds=s;var d=function(e,t){return e.reduce((function(e,a){return Object.keys(t).forEach((function(n){var l=(0,o.get)(t,[n,a],{}),s=(0,r.default)({},n,(0,i.removeConditionKeyFromData)(l));e[a]?e[a]=u(u({},e[a]),s):e[a]=s})),e}),{})};t.getRelatedActionIdData=d;var c=function(e,t){var a=s(e),n=d(a,t);return Object.keys(n).reduce((function(e,t){return e[t]=(0,i.getCheckboxState)(n[t]),e}),{})};t.default=c},71309:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findDisplayedActions",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getCheckboxesState",{enumerable:!0,get:function(){return o.default}});var r=n(a(22891)),o=n(a(38052))},61382:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(19615)),o=a(96014),i=r.default.div.withConfig({displayName:"HiddenAction",componentId:"sc-uuwuy1-0"})(["width:",";"],o.cellWidth);t.default=i},54228:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(56156)),i=n(a(61432)),l=E(a(32735)),u=n(a(60216)),s=a(10938),d=a(81700),c=n(a(23973)),f=n(a(68149)),p=a(5636),m=n(a(15920)),g=n(a(68266)),y=n(a(16510)),b=n(a(48911)),v=E(a(63728)),h=n(a(53219)),O=n(a(53348));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=(0,l.forwardRef)((function(e,t){var a=e.layout,n=e.isFormDisabled,r=e.permissions,o=(0,l.useReducer)(v.default,v.initialState,(function(){return(0,b.default)(a,r)})),u=(0,i.default)(o,2),C=u[0],E=C.initialData,j=C.layouts,P=C.modifiedData,k=u[1],M=(0,p.useIntl)().formatMessage;(0,l.useImperativeHandle)(t,(function(){return{getPermissions:function(){var e,t=(0,s.difference)(E.collectionTypes,P.collectionTypes),a=(0,s.difference)(E.singleTypes,P.singleTypes),n=w(w({},t),a);return e=!(0,f.default)(n)&&Object.values(n).some((function(e){return Object.values(e).some((function(e){return(0,c.default)(e,"conditions")}))})),{permissionsToSend:(0,h.default)(P),didUpdateConditions:e}},resetForm:function(){k({type:"RESET_FORM"})},setFormAfterSubmit:function(){k({type:"SET_FORM_AFTER_SUBMIT"})}}}));var _=(0,l.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;k({type:"ON_CHANGE_SIMPLE_CHECKBOX",keys:a,value:n})}),[]),D=(0,l.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;k({type:"ON_CHANGE_TOGGLE_PARENT_CHECKBOX",keys:a,value:n})}),[]);return l.default.createElement(g.default,{value:{availableConditions:a.conditions,modifiedData:P,onChangeConditions:function(e){k({type:"ON_CHANGE_CONDITIONS",conditions:e})},onChangeSimpleCheckbox:_,onChangeParentCheckbox:D,onChangeCollectionTypeLeftActionRowCheckbox:function(e,t,a,n){k({type:"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX",pathToCollectionType:e,propertyName:t,rowName:a,value:n})},onChangeCollectionTypeGlobalActionCheckbox:function(e,t,a){k({type:"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX",collectionTypeKind:e,actionId:t,value:a})}}},l.default.createElement(d.TabGroup,{id:"tabs",label:M({id:"Settings.permissions.users.tabs.label",defaultMessage:"Tabs Permissions"})},l.default.createElement(d.Tabs,null,O.default.map((function(e){return l.default.createElement(d.Tab,{key:e.id},M({id:e.labelId,defaultMessage:e.defaultMessage}))}))),l.default.createElement(d.TabPanels,{style:{position:"relative"}},l.default.createElement(d.TabPanel,null,l.default.createElement(m.default,{layout:j.collectionTypes,kind:"collectionTypes",isFormDisabled:n})),l.default.createElement(d.TabPanel,null,l.default.createElement(m.default,{layout:j.singleTypes,kind:"singleTypes",isFormDisabled:n})),l.default.createElement(d.TabPanel,null,l.default.createElement(y.default,{layout:j.plugins,kind:"plugins",isFormDisabled:n})),l.default.createElement(d.TabPanel,null,l.default.createElement(y.default,{layout:j.settings,kind:"settings",isFormDisabled:n})))))}));P.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}},P.propTypes={layout:u.default.object,isFormDisabled:u.default.bool.isRequired,permissions:u.default.array};var k=(0,l.memo)(P);t.default=k},48911:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(39412)),o=n(a(90437)),i=n(a(44868)),l=function(e,t){var a=e.conditions,n=e.sections,l=n.collectionTypes,u=n.singleTypes,s=n.plugins,d=n.settings,c={collectionTypes:l,singleTypes:u,plugins:(0,i.default)(s,"plugin"),settings:(0,i.default)(d,"category")},f={collectionTypes:(0,r.default)(l,l.actions||[],a,t),singleTypes:(0,r.default)(u,u.actions||[],a,t),plugins:(0,o.default)(c.plugins,a,t),settings:(0,o.default)(c.settings,a,t)};return{initialData:f,modifiedData:f,layouts:c}};t.default=l},63728:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(61432)),o=n(a(79545)),i=n(a(56156)),l=n(a(38317)),u=a(92891),s=n(a(29443)),d=n(a(46028));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.initialState={initialData:{},modifiedData:{},layouts:{}};var p=function(e,t){return(0,l.default)(e,(function(a){switch(t.type){case"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX":var n=t.collectionTypeKind,i=t.actionId,l=t.value,c=["modifiedData",n];Object.keys((0,u.get)(e,c)).forEach((function(t){var n=(0,u.get)(e,[].concat(c,[t,i]),void 0);if(n){var r=(0,d.default)(n,l);if(!l&&r.conditions){var o=(0,d.default)(r.conditions,!1);r=f(f({},r),{},{conditions:o})}(0,u.set)(a,[].concat(c,[t,i]),r)}}));break;case"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX":var p=t.pathToCollectionType,m=t.propertyName,g=t.rowName,y=t.value,b=(0,u.cloneDeep)(e.modifiedData),v=p.split(".."),h=(0,u.get)(b,v,{});Object.keys(h).forEach((function(e){if((0,u.has)(h[e],"properties.".concat(m))){var t=(0,u.get)(h,[e,"properties",m,g]),a=[].concat((0,o.default)(v),[e,"properties",m,g]);if((0,u.isObject)(t)){var n=(0,d.default)(t,y);(0,u.set)(b,a,n)}else(0,u.set)(b,a,y)}})),y||(b=(0,s.default)(b)),(0,u.set)(a,"modifiedData",b);break;case"ON_CHANGE_CONDITIONS":Object.entries(t.conditions).forEach((function(e){var t=(0,r.default)(e,2),n=t[0],i=t[1];(0,u.set)(a,["modifiedData"].concat((0,o.default)(n.split("..")),["conditions"]),i)}));break;case"ON_CHANGE_SIMPLE_CHECKBOX":var O=(0,u.cloneDeep)(e.modifiedData);(0,u.set)(O,(0,o.default)(t.keys.split("..")),t.value),t.value||(O=(0,s.default)(O)),(0,u.set)(a,"modifiedData",O);break;case"ON_CHANGE_TOGGLE_PARENT_CHECKBOX":var C=t.keys,E=t.value,j=(0,o.default)(C.split("..")),w=(0,u.cloneDeep)(e.modifiedData),P=(0,u.get)(w,j,{}),k=(0,d.default)(P,E);(0,u.set)(w,j,k),E||(w=(0,s.default)(w)),(0,u.set)(a,["modifiedData"],w);break;case"RESET_FORM":a.modifiedData=e.initialData;break;case"SET_FORM_AFTER_SUBMIT":a.initialData=e.modifiedData;break;default:return a}}))};t.default=p},96014:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rowHeight=t.firstRowWidth=t.cellWidth=void 0;var a="".concat(7.5,"rem");t.cellWidth=a;var n="".concat(12.5,"rem");t.firstRowWidth=n;var r="".concat(53/16,"rem");t.rowHeight=r},39412:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.findLayouts=t.default=t.createDefaultPropertyForms=t.createDefaultPropertiesForm=t.createDefaultConditionsForm=void 0;var r=n(a(56156)),o=a(92891),i=n(a(27906));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,a){return e[a.id]=-1!==t.indexOf(a.id),e}),{})};t.createDefaultConditionsForm=s;var d=function e(t,a){var n=t.children,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.reduce((function(t,n){if(n.children)return u(u({},t),{},(0,r.default)({},n.value,e(n,a,"".concat(o).concat(n.value,"."))));var i=-1!==a.indexOf("".concat(o).concat(n.value));return t[n.value]=i,t}),{})};t.createDefaultPropertyForms=d;var c=function(e,t,a){return e.reduce((function(e,n){var r=t.properties.find((function(e){return e.value===n}));if(r){var i=(0,o.get)(a,["properties",r.value],[]),l=d(r,i);e.properties[n]=l}return e}),{properties:{}})};t.createDefaultPropertiesForm=c;var f=function(e,t){return t.reduce((function(t,a){var n=e.find((function(e){return e.uid===a}))||null;return n&&(t[a]=n),t}),{})};t.findLayouts=f;var p=function(e,t,a){var n=e.subjects,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t.reduce((function(e,t){var l=t.subjects,d=f(n,l);if((0,o.isEmpty)(d))return e;var p=Object.keys(d).reduce((function(e,n){var l=t.actionId,f=t.applyToProperties,p=d[n].properties.map((function(e){return e.value})).every((function(e){return-1===(f||[]).indexOf(e)})),m=(0,i.default)(r,l,n),g=s(a,(0,o.get)(m,"conditions",[]));if((0,o.isEmpty)(f)||p)return(0,o.set)(e,[n,l],{properties:{enabled:void 0!==m},conditions:g}),e;var y=c(f,d[n],m);return(0,o.set)(e,[n,l],u(u({},y),{},{conditions:g})),e}),{});return(0,o.merge)(e,p)}),{})};t.default=p},90437:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createSubCategoryForm=t.createChildrenDefaultForm=void 0;var r=a(92891),o=a(39412),i=n(a(27906)),l=function(e,t,a){return e.reduce((function(e,n){var l=(0,i.default)(a,n.action,null);return e[n.action]={properties:{enabled:void 0!==l},conditions:(0,o.createDefaultConditionsForm)(t,(0,r.get)(l,"conditions",[]))},e}),{})};t.createSubCategoryForm=l;var u=function(e,t,a){return e.reduce((function(e,n){return e[n.subCategoryId]=l(n.actions,t,a),e}),{})};t.createChildrenDefaultForm=u;var s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,n){var r=n.categoryId,o=n.childrenForm,i=u(o,t,a);return e[r]=i,e}),{})};t.default=s},27906:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t,a){return e.find((function(e){return e.action===t&&e.subject===a}))};t.default=a},51192:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createPropertyArray=t.createPermissionWithProperties=void 0;var r=n(a(79545)),o=n(a(61432)),i=a(92891),l=a(40073),u=a(9833),s=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(t).reduce((function(t,n){var l=(0,o.default)(n,2),u=l[0],s=l[1];return(0,i.isObject)(s)?[].concat((0,r.default)(t),(0,r.default)(e(s,"".concat(a).concat(u,".")))):(s&&!(0,i.isObject)(s)&&t.push("".concat(a).concat(u)),t)}),[])};t.createPropertyArray=s;var d=function(e,t,a){var n=a.conditions,r=a.properties;return Object.entries(r).reduce((function(e,t){var a=(0,o.default)(t,2),n=a[0],r=a[1];return e.properties[n]=s(r),e}),{action:e,subject:t,conditions:(0,u.createConditionsArray)(n),properties:{}})};t.createPermissionWithProperties=d;var c=function(e,t){var a=Object.entries(t).reduce((function(t,a){var n=(0,o.default)(a,2),s=n[0],c=n[1];if(!(0,l.createArrayOfValues)(c).some((function(e){return e})))return t;if(!(0,i.has)(c,"properties.enabled")){var f=d(s,e,c);return[].concat((0,r.default)(t),[f])}if(!c.properties.enabled)return t;var p=function(e,t,a){var n=a.conditions;return{action:e,subject:t,properties:{},conditions:(0,u.createConditionsArray)(n)}}(s,e,c);return t.push(p),t}),[]);return a},f=function(e){return Object.entries(e).reduce((function(e,t){var a=(0,o.default)(t,2),n=a[0],i=a[1],l=c(n,i);return[].concat((0,r.default)(e),(0,r.default)(l))}),[])};t.default=f},44868:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(92891),r=function(e){return e.split(" ").join("-")},o=function(e,t){return(0,n.chain)(e).groupBy(t).map((function(e,t){return{category:t,categoryId:r(t),childrenForm:(0,n.chain)(e).groupBy("subCategory").map((function(e,t){return{subCategoryName:t,subCategoryId:r(t),actions:e}})).value()}})).value()};t.default=o},53219:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(79545)),o=n(a(51192)),i=n(a(9833)),l=function(e){var t=(0,i.default)(e.plugins),a=(0,i.default)(e.settings),n=(0,o.default)(e.collectionTypes),l=(0,o.default)(e.singleTypes);return[].concat((0,r.default)(t),(0,r.default)(a),(0,r.default)(n),(0,r.default)(l))};t.default=l},9833:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createPermissionsArrayFromCategory=t.createPermission=t.createConditionsArray=void 0;var r=n(a(79545)),o=n(a(61432)),i=function(e){return Object.entries(e).filter((function(e){return(0,o.default)(e,2)[1]})).map((function(e){return(0,o.default)(e,1)[0]}))};t.createConditionsArray=i;var l=function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1].conditions;return{action:a,subject:null,conditions:i(n),properties:{}}};t.createPermission=l;var u=function(e){return Object.values(e).reduce((function(e,t){var a=Object.entries(t).reduce((function(e,t){if(!(0,o.default)(t,2)[1].properties.enabled)return e;var a=l(t);return e.push(a),e}),[]);return[].concat((0,r.default)(e),(0,r.default)(a))}),[])};t.createPermissionsArrayFromCategory=u;var s=function(e){return Object.values(e).reduce((function(e,t){var a=u(t);return[].concat((0,r.default)(e),(0,r.default)(a))}),[])};t.default=s},53348:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=[{labelId:"app.components.LeftMenuLinkContainer.collectionTypes",defaultMessage:"Collection Types",id:"collectionTypes"},{labelId:"app.components.LeftMenuLinkContainer.singleTypes",id:"singleTypes",defaultMessage:"Single Types"},{labelId:"app.components.LeftMenuLinkContainer.plugins",defaultMessage:"Plugins",id:"plugins"},{labelId:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings",id:"settings"}];t.default=a},29443:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56156)),o=a(92891),i=a(40073);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function e(t){return Object.keys(t).reduce((function(a,n){var l=t[n];if((0,o.isObject)(l)&&!(0,o.has)(l,"conditions"))return u(u({},a),{},(0,r.default)({},n,e(l)));if((0,o.isObject)(l)&&(0,o.has)(l,"conditions")&&!(0,i.createArrayOfValues)((0,o.omit)(l,"conditions")).some((function(e){return e}))){var s=Object.keys(l.conditions).reduce((function(e,t){return e[t]=!1,e}),{});return u(u({},a),{},(0,r.default)({},n,u(u({},l),{},{conditions:s})))}return a[n]=l,a}),{})};t.default=s},46028:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56156)),o=a(92891);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function e(t,a){return Object.keys(t).reduce((function(n,i){var u=t[i];return"conditions"===i?(n[i]=u,n):(0,o.isObject)(u)?l(l({},n),{},(0,r.default)({},i,e(u,a))):(n[i]=a,n)}),{})};t.default=u},68266:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32735)),o=n(a(60216)),i=a(42835),l=function(e){var t=e.children,a=e.value;return r.default.createElement(i.PermissionsDataManagerContext.Provider,{value:a},t)};l.propTypes={children:o.default.node.isRequired,value:o.default.exact({availableConditions:o.default.array.isRequired,modifiedData:o.default.object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:o.default.func.isRequired,onChangeConditions:o.default.func.isRequired,onChangeSimpleCheckbox:o.default.func.isRequired,onChangeParentCheckbox:o.default.func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:o.default.func.isRequired}).isRequired};var u=l;t.default=u},24882:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(79545)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=a(12001),s=a(9808),d=n(a(23940)),c=a(5636),f=n(a(45894));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=function(e){var t=e.childrenForm,a=e.kind,n=e.name,r=e.isOpen,l=e.isFormDisabled,p=e.isWhite,m=e.onOpenCategory,g=e.pathToData,y=(0,c.useIntl)().formatMessage,b=(0,i.useMemo)((function(){return n.split("::").pop()}),[n]);return i.default.createElement(u.Accordion,{expanded:r,toggle:function(){m(n)},id:"accordion-".concat(n),variant:p?"primary":"secondary"},i.default.createElement(u.AccordionToggle,{title:(0,d.default)(b),description:"".concat(y({id:"Settings.permissions.category"},{category:b})," ").concat("plugins"===a?"plugin":a)}),i.default.createElement(u.AccordionContent,null,i.default.createElement(s.Box,{padding:6},t.map((function(e){var t=e.actions,a=e.subCategoryName,n=e.subCategoryId;return i.default.createElement(f.default,{key:a,actions:t,categoryName:b,isFormDisabled:l,subCategoryName:a,pathToData:[].concat((0,o.default)(g),[n])})})))))};m.defaultProps={},m.propTypes={childrenForm:l.default.array.isRequired,isOpen:l.default.bool.isRequired,isFormDisabled:l.default.bool.isRequired,isWhite:l.default.bool.isRequired,kind:l.default.string.isRequired,name:l.default.string.isRequired,onOpenCategory:l.default.func.isRequired,pathToData:l.default.array.isRequired};var g=m;t.default=g},45894:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(79545)),i=n(a(61432)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),u=n(a(19615)),s=n(a(60216)),d=a(78330),c=a(9808),f=a(52111),p=a(19192),m=a(95602),g=a(5636),y=n(a(33795)),b=a(17540),v=a(40073),h=n(a(79317)),O=n(a(4602)),C=a(43054);function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var j=window&&window.strapi&&window.strapi.isEE?a(86681).Z:a(56842).Z,w=u.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],(function(e){return e.theme.colors.neutral150})),P=u.default.div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"sc-akgczm-1"})(["position:relative;word-break:keep-all;",""],(function(e){var t=e.hasConditions,a=e.disabled,n=e.theme;return t&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: ".concat(-.25,"rem;\n      left: ").concat(-.5,"rem;\n      width: ").concat(6/16,"rem;\n      height: ").concat(6/16,"rem;\n      border-radius: ").concat(1.25,"rem;\n      background: ").concat(a?n.colors.neutral100:n.colors.primary600,";\n    }\n  ")})),k=function(e){var t=e.categoryName,a=e.isFormDisabled,n=e.subCategoryName,r=e.actions,u=e.pathToData,s=(0,l.useState)(!1),E=(0,i.default)(s,2),k=E[0],M=E[1],_=(0,b.usePermissionsDataManager)(),D=_.modifiedData,x=_.onChangeParentCheckbox,T=_.onChangeSimpleCheckbox,S=(0,g.useIntl)().formatMessage,R=(0,y.default)(D,u,{}),A=(0,l.useMemo)((function(){return Object.keys(R).reduce((function(e,t){return e[t]=(0,v.removeConditionKeyFromData)(R[t]),e}),{})}),[R]),I=(0,v.getCheckboxState)(A),F=I.hasAllActionsSelected,q=I.hasSomeActionsSelected,N=function(){M((function(e){return!e}))},L=(0,C.formatActions)(r,D,u),W=(0,C.getConditionsButtonState)((0,y.default)(D,(0,o.default)(u),{}));return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.Box,null,l.default.createElement(p.Flex,{justifyContent:"space-between",alignItems:"center"},l.default.createElement(c.Box,{paddingRight:4},l.default.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},n)),l.default.createElement(w,null),l.default.createElement(c.Box,{paddingLeft:4},l.default.createElement(f.Checkbox,{name:u.join(".."),disabled:a||j,onValueChange:function(e){x({target:{name:u.join(".."),value:e}})},indeterminate:q,value:F},S({id:"app.utils.select-all",defaultMessage:"Select all"})))),l.default.createElement(p.Flex,{paddingTop:6,paddingBottom:6},l.default.createElement(d.Grid,{gap:2,style:{flex:1}},L.map((function(e){var t=e.checkboxName,n=e.value,r=e.action,o=e.displayName,i=e.hasConditions;return l.default.createElement(d.GridItem,{col:3,key:r},l.default.createElement(P,{disabled:a||j,hasConditions:i},l.default.createElement(f.Checkbox,{name:t,disabled:a||j,onValueChange:function(e){T({target:{name:t,value:e}})},value:n},o)))}))),l.default.createElement(h.default,{hasConditions:W,onClick:N}))),k&&l.default.createElement(O.default,{headerBreadCrumbs:[t,n],actions:L,isFormDisabled:a,onClosed:function(){M(!1)},onToggle:N}))};k.propTypes={actions:s.default.array.isRequired,categoryName:s.default.string.isRequired,isFormDisabled:s.default.bool.isRequired,subCategoryName:s.default.string.isRequired,pathToData:s.default.array.isRequired};var M=k;t.default=M},56842:(e,t)=>{t.Z=void 0;t.Z=true},41974:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56156)),o=n(a(79545)),i=a(92891),l=a(40073);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t,a){return e.map((function(e){var n=[].concat((0,o.default)(a),[e.action,"properties","enabled"]),r=(0,i.get)(t,n,!1),u=(0,i.get)(t,[].concat((0,o.default)(a),[e.action,"conditions"]),{}),d=(0,l.createArrayOfValues)(u).some((function(e){return e}));return s(s({},e),{},{isDisplayed:r,checkboxName:n.join(".."),hasSomeActionsSelected:r,value:r,hasConditions:d,label:e.displayName,actionId:e.action,pathToConditionsObject:[].concat((0,o.default)(a),[e.action])})}))};t.default=d},65729:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(61432)),o=a(40073),i=function(e){var t=Object.entries(e).reduce((function(e,t){var a=(0,r.default)(t,2),n=a[0],o=a[1].conditions;return e[n]=o,e}),{});return(0,o.createArrayOfValues)(t).some((function(e){return e}))};t.default=i},43054:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatActions",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getConditionsButtonState",{enumerable:!0,get:function(){return o.default}});var r=n(a(41974)),o=n(a(65729))},16510:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(61432)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=a(9808),s=n(a(24882));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var c=function(e){var t=e.isFormDisabled,a=e.kind,n=e.layout,r=(0,i.useState)(null),l=(0,o.default)(r,2),d=l[0],c=l[1],f=function(e){c(e===d?null:e)};return i.default.createElement(u.Box,{padding:6,background:"neutral0"},n.map((function(e,n){var r=e.category,o=e.categoryId,l=e.childrenForm;return i.default.createElement(s.default,{key:r,childrenForm:l,kind:a,isFormDisabled:t,isOpen:d===r,isWhite:n%2===1,name:r,onOpenCategory:f,pathToData:[a,o]})})))};c.propTypes={isFormDisabled:l.default.bool.isRequired,kind:l.default.string.isRequired,layout:l.default.arrayOf(l.default.shape({category:l.default.string.isRequired,categoryId:l.default.string.isRequired,childrenForm:l.default.arrayOf(l.default.shape({actions:l.default.array.isRequired})).isRequired}).isRequired).isRequired};var f=c;t.default=f},43379:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32735)),o=n(a(19615)).default.span.withConfig({displayName:"RequiredSign__Required",componentId:"sc-13rz75o-0"})(["color:",";padding-left:","px;"],(function(e){return e.theme.colors.danger700}),(function(e){return e.theme.spaces[1]})),i=function(){return r.default.createElement(o,null,"*")};t.default=i},91489:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(51265)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(60216)),u=a(35980),s=a(9808),d=a(19192),c=a(95602),f=n(a(23940)),p=a(5636),m=n(a(91362)),g=a(96014);function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var b=function(e){var t=e.children,a=e.isCollapsable,n=e.isActive,r=e.isFormDisabled,l=e.label,y=e.onChange,b=e.onClick,v=e.checkboxName,h=e.someChecked,O=e.value,C=(0,p.useIntl)().formatMessage;return i.default.createElement(d.Flex,{alignItems:"center",paddingLeft:6,style:{width:g.firstRowWidth,flexShrink:0}},i.default.createElement(s.Box,{paddingRight:2},i.default.createElement(u.BaseCheckbox,{name:v,"aria-label":C({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:l}),disabled:r,onValueChange:function(e){return y({target:{name:v,value:e}})},indeterminate:h,value:O})),i.default.createElement(m.default,(0,o.default)({title:l,alignItems:"center",isCollapsable:a},a&&{onClick:b,"aria-expanded":n,onKeyDown:function(e){var t=e.key;return("Enter"===t||" "===t)&&b()},tabIndex:0,role:"button"}),i.default.createElement(c.Typography,{fontWeight:n?"bold":"",textColor:n?"primary600":"neutral800",ellipsis:!0},(0,f.default)(l)),t))};b.defaultProps={children:null,checkboxName:"",onChange:function(){},value:!1,someChecked:!1,isCollapsable:!1},b.propTypes={checkboxName:l.default.string,children:l.default.node,label:l.default.string.isRequired,isCollapsable:l.default.bool,isFormDisabled:l.default.bool.isRequired,onChange:l.default.func,onClick:l.default.func.isRequired,someChecked:l.default.bool,value:l.default.bool,isActive:l.default.bool.isRequired};var v=(0,i.memo)(b);t.default=v},91940:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(92891),r=function e(t){return(0,n.isObject)(t)?(0,n.flattenDeep)(Object.values(t).map((function(t){return(0,n.isObject)(t)?e(t):t}))):[]};t.default=r},41705:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(91940)),o=n(a(87157)),i=function(e){var t=(0,o.default)(e),a=(0,r.default)(t);if(!a.length)return{hasAllActionsSelected:!1,hasSomeActionsSelected:!1};var n=a.every((function(e){return e}));return{hasAllActionsSelected:n,hasSomeActionsSelected:a.some((function(e){return e}))&&!n}};t.default=i},40073:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayOfValues",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getCheckboxState",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"removeConditionKeyFromData",{enumerable:!0,get:function(){return i.default}});var r=n(a(41705)),o=n(a(91940)),i=n(a(87157))},87157:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e?Object.keys(e).reduce((function(t,a){return"conditions"!==a&&(t[a]=e[a]),t}),{}):null};t.default=a},13368:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return"todo empty role"}},43672:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(51265)),o=n(a(32735)),i=n(a(60216)),l=a(9808),u=a(19192),s=a(53214),d=a(95602),c=a(20763),f=a(10938),p=a(5636),m=function(e){var t=e.id,a=e.name,n=e.description,i=e.usersCount,m=e.icons,g=(0,(0,p.useIntl)().formatMessage)({id:"Roles.RoleRow.user-count",defaultMessage:"{number, plural, =0 {#  user} one {#  user} other {# users}}"},{number:i});return o.default.createElement(s.Tr,(0,r.default)({key:t},(0,f.onRowClick)({fn:m[1].onClick})),o.default.createElement(s.Td,{maxWidth:(0,f.pxToRem)(130)},o.default.createElement(d.Typography,{ellipsis:!0,textColor:"neutral800"},a)),o.default.createElement(s.Td,{maxWidth:(0,f.pxToRem)(250)},o.default.createElement(d.Typography,{ellipsis:!0,textColor:"neutral800"},n)),o.default.createElement(s.Td,null,o.default.createElement(d.Typography,{textColor:"neutral800"},g)),o.default.createElement(s.Td,null,o.default.createElement(u.Flex,(0,r.default)({justifyContent:"flex-end"},f.stopPropagation),m.map((function(e,t){return e?o.default.createElement(l.Box,{key:e.label,paddingLeft:0===t?0:1},o.default.createElement(c.IconButton,{onClick:e.onClick,label:e.label,noBorder:!0,icon:e.icon})):null})))))};m.propTypes={id:i.default.number.isRequired,name:i.default.string.isRequired,description:i.default.string.isRequired,usersCount:i.default.number.isRequired,icons:i.default.array.isRequired};var g=m;t.default=g},69391:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(61432)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),l=n(a(58469)),u=a(10938),s=n(a(59290)),d=n(a(76470)),c=n(a(95717)),f=n(a(68192)),p=a(44526),m=a(11856),g=a(53214),y=a(95602),b=a(16540),v=a(28004),h=a(5636),O=a(60530),C=n(a(43672)),E=n(a(13368)),j=n(a(16473)),w=a(17540);function P(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}var k=function(){var e=(0,h.useIntl)().formatMessage;(0,u.useFocusWhenNavigate)();var t=function(){var e=(0,w.useRolesList)(),t=e.roles,a=e.isLoading,n=(0,u.useQuery)(),r=decodeURIComponent(n.get("_q")||"");return{isLoading:a,sortedRoles:(0,l.default)(t,r,{keys:["name","description"]})}}(),a=t.sortedRoles,n=t.isLoading,r=function(){var e=(0,h.useIntl)().formatMessage,t=(0,i.useState)(!1),a=(0,o.default)(t,2),n=a[0],r=a[1],l=(0,u.useTracking)().trackUsage,s=(0,O.useHistory)().push,p=(0,i.useCallback)((function(e){s("/settings/roles/".concat(e))}),[s]),m=(0,i.useCallback)((function(){r((function(e){return!e}))}),[]),g=(0,i.useCallback)((function(){l("didShowRBACUpgradeModal"),r(!0)}),[l]),y=(0,i.useCallback)((function(t){return[{onClick:m,label:e({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:i.default.createElement(f.default,null)},{onClick:function(){return p(t.id)},label:e({id:"app.utils.edit",defaultMessage:"Edit"}),icon:i.default.createElement(c.default,null)},{onClick:m,label:e({id:"app.utils.delete",defaultMessage:"Delete"}),icon:i.default.createElement(d.default,null)}]}),[e,m,p]);return{isModalOpen:n,handleToggleModalForCreatingRole:g,handleToggle:m,getIcons:y}}(),P=r.isModalOpen,k=r.handleToggle,M=r.handleToggleModalForCreatingRole,_=r.getIcons,D=a.length+1;return i.default.createElement(b.Main,null,i.default.createElement(u.SettingsPageTitle,{name:"Roles"}),i.default.createElement(m.HeaderLayout,{primaryAction:i.default.createElement(p.Button,{onClick:M,startIcon:i.default.createElement(s.default,null),size:"L"},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})),title:e({id:"Settings.roles.title",defaultMessage:"roles"}),subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"})}),i.default.createElement(m.ContentLayout,null,i.default.createElement(g.Table,{colCount:5,rowCount:D,footer:i.default.createElement(g.TFooter,{onClick:M,icon:i.default.createElement(s.default,null)},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"}))},i.default.createElement(g.Thead,null,i.default.createElement(g.Tr,null,i.default.createElement(g.Th,null,i.default.createElement(y.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.name",defaultMessage:"Name"}))),i.default.createElement(g.Th,null,i.default.createElement(y.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.description",defaultMessage:"Description"}))),i.default.createElement(g.Th,null,i.default.createElement(y.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.users",defaultMessage:"Users"}))),i.default.createElement(g.Th,null,i.default.createElement(v.VisuallyHidden,null,e({id:"Settings.roles.list.header.actions",defaultMessage:"Actions"}))))),i.default.createElement(g.Tbody,null,null===a||void 0===a?void 0:a.map((function(e){return i.default.createElement(C.default,{key:e.id,id:e.id,name:e.name,description:e.description,usersCount:e.usersCount,icons:_(e)})})))),!D&&!n&&i.default.createElement(E.default,null)),i.default.createElement(j.default,{isOpen:P,onClose:k}))};t.default=k},65018:(e,t,a)=>{var n=a(99489);t.Z=void 0;var r=n(a(32735)),o=a(10938),i=n(a(59700)),l=n(a(69391)),u=function(){return r.default.createElement(o.CheckPagePermissions,{permissions:i.default.settings.roles.main},r.default.createElement(l.default,null))};t.Z=u},12061:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(3704)),o=a(10120),i=function(e){return(0,r.default)(e,(function(e){return e.links})).map((function(e){return(0,o.createRoute)(e.Component,e.to,e.exact||!1)}))};t.default=i},23810:(e,t)=>{t.Z=void 0;var a=[];t.Z=a},68942:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(28129)),o=n(a(68357)),i=window&&window.strapi&&window.strapi.isEE?a(3481).ZP:a(91392).Z,l=window&&window.strapi&&window.strapi.isEE?a(7099).Z:a(65018).Z,u=[{Component:function(){return{default:l}},to:"/settings/roles",exact:!0},{Component:function(){return{default:i}},to:"/settings/roles/duplicate/:id",exact:!0},{Component:function(){return{default:i}},to:"/settings/roles/new",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(2544).then(a.bind(a,3306));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/roles/:id",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(5199).then(a.bind(a,27e3));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/users",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4263).then(a.bind(a,61377));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/users/:id",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,93793));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks/create",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,81006));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks/:id",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4121).then(a.bind(a,91842));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(8056).then(a.bind(a,17937));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4299).then(a.bind(a,86689));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens/create",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(92).then(a.bind(a,54361));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens/:id",exact:!0}];t.default=u},49845:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e.filter((function(e){return!e.links.every((function(e){return!1===e.isDisplayed}))}))};t.default=a},5016:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSectionsRoutes",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getSectionsToDisplay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"routes",{enumerable:!0,get:function(){return i.default}});var r=n(a(12061)),o=n(a(49845)),i=n(a(91050))},91050:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(79545)),o=n(a(68942)),i=window&&window.strapi&&window.strapi.isEE?a(496).Z:a(23810).Z,l=[].concat((0,r.default)(i),(0,r.default)(o.default));t.default=l},3481:(e,t,a)=>{var n=a(98399),r=a(99489),o=a(45559);t.ZP=void 0;var i=r(a(28129)),l=r(a(68357)),u=r(a(61432)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(32735)),d=r(a(53806)),c=a(10938),f=a(9808),p=a(44526),m=a(11856),g=a(78330),y=a(16540),b=a(58434),v=a(19192),h=a(90662),O=a(95602),C=a(37178),E=a(90353),j=r(a(98599)),w=a(83281),P=r(a(33795)),k=r(a(68149)),M=a(5636),_=a(60530),D=r(a(19615)),x=r(a(54228)),T=a(17540),S=r(a(59700)),R=r(a(98817));function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}var I=D.default.div.withConfig({displayName:"CreatePage__UsersRoleNumber",componentId:"sc-f7k9id-0"})(["border:1px solid ",";background:",";padding:",";color:",";border-radius:",";font-size:","rem;font-width:bold;"],(function(e){return e.theme.colors.primary200}),(function(e){return e.theme.colors.primary100}),(function(e){var t=e.theme;return"".concat(t.spaces[2]," ").concat(t.spaces[4])}),(function(e){return e.theme.colors.primary600}),(function(e){return e.theme.borderRadius}),.75),F=function(){var e=(0,c.useNotification)(),t=(0,c.useOverlayBlocker)(),a=t.lockApp,r=t.unlockApp,o=(0,M.useIntl)().formatMessage,D=(0,s.useState)(!1),S=(0,u.default)(D,2),A=S[0],F=S[1],q=(0,_.useHistory)().replace,N=(0,s.useRef)(),L=(0,c.useTracking)().trackUsage,W=(0,_.useRouteMatch)("/settings/roles/duplicate/:id"),B=(0,P.default)(W,"params.id",null),Z=(0,T.useFetchPermissionsLayout)(),G=Z.isLoading,H=Z.data,U=(0,T.useFetchRole)(B),z=U.permissions,V=U.isLoading,K="".concat(o({id:"Settings.roles.form.created",defaultMessage:"Created"})," ").concat((0,d.default)().format("LL"));return s.default.createElement(y.Main,null,s.default.createElement(c.SettingsPageTitle,{name:"Roles"}),s.default.createElement(w.Formik,{initialValues:{name:"",description:K},onSubmit:function(t){a(),F(!0),L(B?"willDuplicateRole":"willCreateNewRole"),Promise.resolve((0,c.request)("/admin/roles",{method:"POST",body:t})).then(function(){var e=(0,l.default)(i.default.mark((function e(t){var a,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.current.getPermissions(),n=a.permissionsToSend,L(B?"didDuplicateRole":"didCreateNewRole"),!t.data.id||(0,k.default)(n)){e.next=5;break}return e.next=5,(0,c.request)("/admin/roles/".concat(t.data.id,"/permissions"),{method:"PUT",body:{permissions:n}});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){F(!1),e({type:"success",message:{id:"Settings.roles.created",defaultMessage:"created"}}),q("/settings/roles/".concat(t.data.id))})).catch((function(t){n.error(t),F(!1),e({type:"warning",message:{id:"notification.error"}})})).finally((function(){r()}))},validationSchema:R.default,validateOnChange:!1},(function(e){var t=e.handleSubmit,a=e.values,n=e.errors,r=e.handleReset,i=e.handleChange;return s.default.createElement(c.Form,{noValidate:!0},s.default.createElement(s.default.Fragment,null,s.default.createElement(m.HeaderLayout,{primaryAction:s.default.createElement(h.Stack,{horizontal:!0,size:2},s.default.createElement(p.Button,{variant:"secondary",onClick:function(){r(),N.current.resetForm()},size:"L"},o({id:"app.components.Button.reset",defaultMessage:"Reset"})),s.default.createElement(p.Button,{onClick:t,loading:A,size:"L"},o({id:"app.components.Button.save",defaultMessage:"Save"}))),title:o({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:o({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"}),navigationAction:s.default.createElement(b.Link,{startIcon:s.default.createElement(j.default,null),to:"/settings/roles"},o({id:"app.components.go-back",defaultMessage:"Back"}))}),s.default.createElement(m.ContentLayout,null,s.default.createElement(h.Stack,{size:6},s.default.createElement(f.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},s.default.createElement(h.Stack,{size:4},s.default.createElement(v.Flex,{justifyContent:"space-between"},s.default.createElement(f.Box,null,s.default.createElement(f.Box,null,s.default.createElement(O.Typography,{fontWeight:"bold"},o({id:"Settings.roles.form.title",defaultMessage:"Details"}))),s.default.createElement(f.Box,null,s.default.createElement(O.Typography,{variant:"pi",textColor:"neutral600"},o({id:"Settings.roles.form.description",defaultMessage:"Name and description of the role"})))),s.default.createElement(I,null,o({id:"Settings.roles.form.button.users-with-role",defaultMessage:"{number, plural, =0 {# users} one {# user} other {# users}} with this role"},{number:0}))),s.default.createElement(g.Grid,{gap:4},s.default.createElement(g.GridItem,{col:6},s.default.createElement(C.TextInput,{name:"name",error:n.name&&o({id:n.name}),label:o({id:"Settings.roles.form.input.name",defaultMessage:"Name"}),onChange:i,value:a.name})),s.default.createElement(g.GridItem,{col:6},s.default.createElement(E.Textarea,{label:o({id:"Settings.roles.form.input.description",defaultMessage:"Description"}),name:"description",error:n.description&&o({id:n.description}),onChange:i},a.description))))),G||V?s.default.createElement(f.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},s.default.createElement(c.LoadingIndicatorPage,null)):s.default.createElement(f.Box,{shadow:"filterShadow",hasRadius:!0},s.default.createElement(x.default,{isFormDisabled:!1,ref:N,permissions:z,layout:H}))))))})))};t.ZP=function(){return s.default.createElement(c.CheckPagePermissions,{permissions:S.default.settings.roles.create},s.default.createElement(F,null))}},98817:(e,t,a)=>{var n=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(a(5173)),o=a(10938);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}var l=r.object().shape({name:r.string().required(o.translatedErrors.required),description:r.string().required(o.translatedErrors.required)});t.default=l},55171:(e,t)=>{t.Z=void 0;t.Z=false},74862:(e,t)=>{t.Z=void 0;t.Z=false},6817:(e,t)=>{t.Z=void 0;t.Z=false},49740:(e,t)=>{t.Z=void 0;t.Z=false},79930:(e,t)=>{t.Z=void 0;t.Z=false},86681:(e,t)=>{t.Z=void 0;t.Z=false},38243:(e,t,a)=>{var n=a(99489),r=a(45559);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(28129)),i=n(a(79545)),l=n(a(68357)),u=n(a(61432)),s=S(a(32735)),d=a(10938),c=n(a(59290)),f=n(a(76470)),p=n(a(68192)),m=n(a(95717)),g=a(44526),y=a(11856),b=a(28004),v=a(16540),h=a(53214),O=a(95602),C=a(92891),E=n(a(58469)),j=a(5636),w=a(60530),P=a(17888),k=a(17540),M=n(a(59700)),_=n(a(13368)),D=n(a(43672)),x=S(a(5230));function T(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}var R=function(){var e=(0,j.useIntl)().formatMessage,t=function(){(0,d.useFocusWhenNavigate)();var e=(0,d.useRBAC)(M.default.settings.roles),t=e.isLoading,a=e.allowedActions,n=a.canCreate,r=a.canDelete,o=a.canRead,i=a.canUpdate,l=(0,k.useRolesList)(!1),c=l.getData,f=l.roles,p=l.isLoading,m=(0,d.useQueryParams)(),g=(0,u.default)(m,1)[0].query,y=(null===g||void 0===g?void 0:g._q)||"",b=(0,E.default)(f,y,{keys:["name","description"]});return(0,s.useEffect)((function(){!t&&o&&c()}),[t,o,c]),{isLoadingForPermissions:t,canCreate:n,canDelete:r,canRead:o,canUpdate:i,isLoading:p,getData:c,sortedRoles:b,roles:f}}(),a=t.isLoadingForPermissions,n=t.canCreate,r=t.canRead,T=t.canDelete,S=t.canUpdate,R=t.isLoading,A=t.getData,I=t.sortedRoles,F=function(e){var t=e.getData,a=e.canCreate,n=e.canDelete,r=e.canUpdate,c=(0,j.useIntl)().formatMessage,g=(0,d.useNotification)(),y=(0,s.useState)(!1),b=(0,u.default)(y,2),v=b[0],h=b[1],O=(0,w.useHistory)().push,E=(0,s.useReducer)(x.default,x.initialState),k=(0,u.default)(E,2),M=k[0],_=M.selectedRoles,D=M.showModalConfirmButtonLoading,T=M.roleToDelete,S=k[1],R=function(){var e=(0,l.default)(o.default.mark((function e(){var a,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S({type:"ON_REMOVE_ROLES"}),e.next=4,P.axiosInstance.post("/admin/roles/batch-delete",{ids:[T]});case 4:return e.next=6,t();case 6:S({type:"RESET_DATA_TO_DELETE"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(a=(0,C.get)(e.t0,["response","payload","data","ids"],null))&&Array.isArray(a)?(n=a.join("\n"),g({type:"warning",message:n})):g({type:"warning",message:{id:"notification.error"}});case 13:F();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),A=(0,s.useCallback)((function(e){O("/settings/roles/duplicate/".concat(e))}),[O]),I=(0,s.useCallback)((function(e){S({type:"SET_ROLE_TO_DELETE",id:e}),F()}),[]),F=function(){return h((function(e){return!e}))},q=(0,s.useCallback)((function(e){O("/settings/roles/".concat(e))}),[O]),N=(0,s.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),t.usersCount?g({type:"info",message:{id:"Roles.ListPage.notification.delete-not-allowed"}}):I(t.id)}),[g,I]),L=(0,s.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),A(t.id)}),[A]);return{handleNewRoleClick:function(){return O("/settings/roles/new")},getIcons:(0,s.useCallback)((function(e){return[].concat((0,i.default)(a?[{onClick:function(t){return L(t,e)},label:c({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:s.default.createElement(p.default,null)}]:[]),(0,i.default)(r?[{onClick:function(){return q(e.id)},label:c({id:"app.utils.edit",defaultMessage:"Edit"}),icon:s.default.createElement(m.default,null)}]:[]),(0,i.default)(n?[{onClick:function(t){return N(t,e)},label:c({id:"app.utils.delete",defaultMessage:"Delete"}),icon:s.default.createElement(f.default,null)}]:[]))}),[c,N,L,q,a,r,n]),selectedRoles:_,isWarningDeleteAllOpened:v,showModalConfirmButtonLoading:D,handleToggleModal:F,handleDeleteData:R}}({getData:A,canCreate:n,canDelete:T,canUpdate:S}),q=F.handleNewRoleClick,N=F.getIcons,L=F.isWarningDeleteAllOpened,W=F.showModalConfirmButtonLoading,B=F.handleToggleModal,Z=F.handleDeleteData,G=I.length+1;if(a)return s.default.createElement(v.Main,null,s.default.createElement(d.LoadingIndicatorPage,null));var H=e({id:"Settings.roles.title",defaultMessage:"roles"});return s.default.createElement(v.Main,null,s.default.createElement(d.SettingsPageTitle,{name:"Roles"}),s.default.createElement(y.HeaderLayout,{primaryAction:n?s.default.createElement(g.Button,{onClick:q,startIcon:s.default.createElement(c.default,null),size:"L"},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null,title:H,subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),as:"h2"}),r&&s.default.createElement(y.ActionLayout,{startActions:s.default.createElement(d.SearchURLQuery,{label:e({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:H})})}),r&&s.default.createElement(y.ContentLayout,null,s.default.createElement(h.Table,{colCount:6,rowCount:G,footer:n?s.default.createElement(h.TFooter,{onClick:q,icon:s.default.createElement(c.default,null)},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null},s.default.createElement(h.Thead,null,s.default.createElement(h.Tr,null,s.default.createElement(h.Th,null,s.default.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.name",defaultMessage:"Name"}))),s.default.createElement(h.Th,null,s.default.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.description",defaultMessage:"Description"}))),s.default.createElement(h.Th,null,s.default.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.roles.list.header.users",defaultMessage:"Users"}))),s.default.createElement(h.Th,null,s.default.createElement(b.VisuallyHidden,null,e({id:"Settings.roles.list.header.actions",defaultMessage:"Actions"}))))),s.default.createElement(h.Tbody,null,null===I||void 0===I?void 0:I.map((function(e){return s.default.createElement(D.default,{key:e.id,id:e.id,name:e.name,description:e.description,usersCount:e.usersCount,icons:N(e)})})))),!G&&!R&&s.default.createElement(_.default,null)),s.default.createElement(d.ConfirmDialog,{isOpen:L,onConfirm:Z,isConfirmButtonLoading:W,onToggleDialog:B}))};t.default=R},5230:(e,t,a)=>{var n=a(99489);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(38317));t.initialState={roleToDelete:null,showModalConfirmButtonLoading:!1,shouldRefetchData:!1};var o=function(e,t){return(0,r.default)(e,(function(e){switch(t.type){case"ON_REMOVE_ROLES":e.showModalConfirmButtonLoading=!0;break;case"ON_REMOVE_ROLES_SUCCEEDED":e.shouldRefetchData=!0,e.roleToDelete=null;break;case"RESET_DATA_TO_DELETE":e.shouldRefetchData=!1,e.roleToDelete=null,e.showModalConfirmButtonLoading=!1;break;case"SET_ROLE_TO_DELETE":e.roleToDelete=t.id;break;default:return e}}))};t.default=o},7099:(e,t,a)=>{var n=a(99489);t.Z=void 0;var r=n(a(32735)),o=a(10938),i=n(a(59700)),l=n(a(38243)),u=function(){return r.default.createElement(o.CheckPagePermissions,{permissions:i.default.settings.roles.main},r.default.createElement(l.default,null))};t.Z=u},496:(e,t,a)=>{var n=a(99489);t.Z=void 0;var r=n(a(28129)),o=n(a(68357)),i=strapi.features.isEnabled(strapi.features.SSO)?[{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(302).then(a.bind(a,16933));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/single-sign-on",exact:!0}]:[],l=[].concat(i);t.Z=l},378:(e,t,a)=>{e.exports=a.p+"c3de6118ef47086ad05c.png"},19337:(e,t,a)=>{e.exports=a.p+"bd81ba6c07827282255d.png"}}]);